<template>
  <div class="a-admin-components">
    <div class="row mb-28">
      <EntriesPerPage ref="EntriesPerPage"/>
      <SearchKeyword ref="SearchKeyword"></SearchKeyword>
      <div class="col-8">
        <h3 class="h3 mb-0">Unit Logs</h3>
      </div>
    </div>
    <div class="mb-66">
      <div class="table-responsive mb-28">
        <table>
          <tbody><tr class="active">
            <th>
              <a href="https://vteamsattend.myurbansky.us/unit-history/385?sort=triggered_at&amp;dir=asc&amp;page=1">Date</a>
              <span class="glyphicon glyphicon-triangle-bottom"></span>

            </th>
            <th>
              <a href="https://vteamsattend.myurbansky.us/unit-history/385?sort=entity_name&amp;dir=asc&amp;page=1">Category</a>
            </th>
            <th>
              <a href="https://vteamsattend.myurbansky.us/unit-history/385?sort=action_name&amp;dir=asc&amp;page=1">Action
                / Details</a>
            </th>
            <th>Description</th>
            <th>
              <a href="https://vteamsattend.myurbansky.us/unit-history/385?sort=performer&amp;dir=asc&amp;page=1">Performed
                By</a>
            </th>
            <th>Initiated By</th>
          </tr>
          <tr>
            <td>10/20/2023 12:01:54 pm</td>
            <td>
              <p>Billing<span id="dots294570">...</span>
                <span style="display: none" id="more294570">
                                                <br>
                                                Ip Address : 59.103.120.153
                                                <br>
                                                Browser : Google Chrome 118.0.0.0(windows)
                                            </span>
              </p>

              <a onclick="myFunction('294570')" id="myBtn294570" href="javascript:void(0)">More
                information</a>

              <br>
            </td>
            <td>Manual Cart Entry </td>
            <td>







              <ul>
                <li>Type : Good Faith Credit</li>
                <li>Message : Manual charge by Z Ahmed (Admin) dated 10/20/2023 12:01:54 pm</li>
                <li>Reason : sd</li>
                <li>Amount : $10.00</li>
              </ul>

















            </td>

            <td> Z A (Admin)</td>
            <td>
              Z A (Admin)
            </td>
          </tr>
          <tr>
            <td>10/20/2023 11:58:53 am</td>
            <td>
              <p>Eula<span id="dots294569">...</span>
                <span style="display: none" id="more294569">
                                                <br>
                                                Ip Address : 59.103.120.153
                                                <br>
                                                Browser : Google Chrome 118.0.0.0(windows)
                                            </span>
              </p>

              <a onclick="myFunction('294569')" id="myBtn294569" href="javascript:void(0)">More
                information</a>

              <br>
            </td>
            <td>Accepted Eula </td>
            <td>

              <a href="https://vteamsattend.myurbansky.us/documents/view_eula/2021_07_20">
                <span class="glyphicon glyphicon-file" title="Click to view document" style="color:blue" aria-hidden="true"></span>
              </a>























            </td>

            <td> J H (Resident)</td>
            <td>
              Z A (Admin)
            </td>
          </tr>
          <tr>
            <td>10/20/2023 11:58:49 am</td>
            <td>
              <p>Login as Resident<span id="dots294568">...</span>
                <span style="display: none" id="more294568">
                                                <br>
                                                Ip Address : 59.103.120.153
                                                <br>
                                                Browser : Google Chrome 118.0.0.0(windows)
                                            </span>
              </p>

              <a onclick="myFunction('294568')" id="myBtn294568" href="javascript:void(0)">More
                information</a>

              <br>
            </td>
            <td>Admin Login as Resident </td>
            <td>
























            </td>

            <td> Z A (Admin)</td>
            <td>
              Z A (Admin)
            </td>
          </tr>
          <tr>
            <td>10/20/2023 11:56:21 am</td>
            <td>
              <p>Billing<span id="dots294567">...</span>
                <span style="display: none" id="more294567">
                                                <br>
                                                Ip Address : 59.103.120.153
                                                <br>
                                                Browser : Google Chrome 118.0.0.0(windows)
                                            </span>
              </p>

              <a onclick="myFunction('294567')" id="myBtn294567" href="javascript:void(0)">More
                information</a>

              <br>
            </td>
            <td>Manual Cart Entry </td>
            <td>







              <ul>
                <li>Type : Credit</li>
                <li>Message : Manual charge by Z Ahmed (Admin) dated 10/20/2023 11:56:21 am</li>
                <li>Reason : hi</li>
                <li>Amount : $10.00</li>
              </ul>

















            </td>

            <td> Z A (Admin)</td>
            <td>
              Z A (Admin)
            </td>
          </tr>
          <tr>
            <td>07/27/2023 06:31:20 pm</td>
            <td>
              <p>Login as Resident<span id="dots293937">...</span>
                <span style="display: none" id="more293937">
                                                <br>
                                                Ip Address : 39.46.87.49
                                                <br>
                                                Browser : Google Chrome 114.0.0.0(mac)
                                            </span>
              </p>

              <a onclick="myFunction('293937')" id="myBtn293937" href="javascript:void(0)">More
                information</a>

              <br>
            </td>
            <td>Admin Login as Resident </td>
            <td>
























            </td>

            <td> Z A (Admin)</td>
            <td>
              Z A (Admin)
            </td>
          </tr>
          <tr>
            <td>04/07/2021 05:40:27 am</td>
            <td>
              <p>Login as Resident<span id="dots20942">...</span>
                <span style="display: none" id="more20942">
                                                <br>
                                                Ip Address : 124.109.55.242
                                                <br>
                                                Browser : Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.182 Safari/537.36
                                            </span>
              </p>

              <a onclick="myFunction('20942')" id="myBtn20942" href="javascript:void(0)">More
                information</a>

              <br>
            </td>
            <td>Admin Login as Resident </td>
            <td>
























            </td>

            <td> R R (Admin)</td>
            <td>
              R R (Admin)
            </td>
          </tr>
          <tr>
            <td>03/11/2021 05:44:28 am</td>
            <td>
              <p>Login as Resident<span id="dots16238">...</span>
                <span style="display: none" id="more16238">
                                                <br>
                                                Ip Address : 124.109.55.242
                                                <br>
                                                Browser : Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.182 Safari/537.36
                                            </span>
              </p>

              <a onclick="myFunction('16238')" id="myBtn16238" href="javascript:void(0)">More
                information</a>

              <br>
            </td>
            <td>Admin Login as Resident </td>
            <td>
























            </td>

            <td> R R (Admin)</td>
            <td>
              R R (Admin)
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <span>
        <pagination :pagination="dataArray"></pagination>
      </span>
    </div>
  </div>
</template>

<script>
import Sorting from "../sorting.vue";
import EntriesPerPage from "../entries-per-page.vue";
import SearchKeyword from "../search-keyword.vue";

export default {
  components: {
    Sorting,
    EntriesPerPage,
    SearchKeyword
  },
  created() {
  },
  data() {
    return {
      dataArray: {},
      sortColumn: null,
      sortOrder: null,
      pageNumber: 0,
    };
  },
  expose: ["loadData"],
  methods: {
    loadData(pageNumber = null) {
      if (pageNumber === null) pageNumber = 0;
      this.pageNumber = pageNumber;

      this.showLoader();
      let params = {};
      params.searchKeyword = this.$refs.SearchKeyword.searchKeyword;
      params.current_page = pageNumber;
      params.sortOrder = this.sortOrder;
      params.sortBy = this.sortColumn;
      params.totalItems = this.$refs.EntriesPerPage.entriesPerPageSelected;

      this.$http
          .post("/unitLogs", params)
          .then((response) => {
            this.dataArray = response.data;
            this.removeLoader();
          })
          .catch((error) => {
            this.removeLoader();
            console.error(error);
          });
    },
  },
};
</script>
